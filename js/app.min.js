"use strict";var app=function(document,$){var docElem=document.documentElement,_userAgentInit=function(){docElem.setAttribute("data-useragent",navigator.userAgent)},_init=function(){$(document).foundation(),$(document).on("click","#start-jr",function(){$(document).foundation("joyride","start")}),_userAgentInit(),Modernizr.svg||$('img[src*="svg"]').attr("src",function(){return $(this).attr("src").replace(".svg",".png")}),$(".flexslider").flexslider({animation:"slide",controlNav:!1,slideshowSpeed:5e3}),$("#show-mega-map").click(function(event){event.preventDefault(),"none"===$("#projects_map_mega").css("display")?($("body").css("overflow","hidden"),$("#projects_map_mega").css("overflow","auto"),TweenLite.fromTo("#projects_map_mega",.8,{opacity:0},{opacity:1,display:"block"})):TweenMax.to("#projects_map_mega",.6,{opacity:0})}),$("#projects_map_mega").click(function(event){event.preventDefault(),"block"===$(this).css("display")&&(TweenLite.fromTo($(this),.2,{opacity:1},{opacity:0,display:"none"}),$("body").css("overflow","auto"))}),$(".random_colored").each(function(index){for(var message=$(this).text(),lun_message=message.length,colors=new Array("#88101D","#AC9865","#615931","#25545D","#C89B67","#AC502A","#008173","#735079","#8A8444","#956F3E"),lun_colors=colors.length,newHtml="",i=0;lun_message>i;i++){var randomnumber=Math.floor(Math.random()*lun_colors);newHtml+='<span style="color:'+colors[randomnumber]+';">'+message[i]+"</span>"}$(this).html(newHtml)}),$("#menutop_projects").click(function(event){"0px"===$("#projects_map").css("height")?(TweenMax.set("#projects_map",{height:"auto"}),TweenMax.from("#projects_map",.5,{height:0,ease:Quad.easeOut}),$("i#menuarrow").replaceWith('<i id="menuarrow" class="fa fa-chevron-up" style="display:inline"></i>')):(TweenMax.to("#projects_map",.6,{height:0}),$("i#menuarrow").replaceWith('<i id="menuarrow" class="fa fa-chevron-down" style="display:inline"></i>'))})},_animazione_logo=function(){var scrollspay_max=200,endVal={hb:parseInt($("#logo-animato").css("background-size"),10),pt:parseInt($("#logo-animato").css("padding-top"),10),mt:parseInt($("#logo-animato").css("margin-top"),10),bm:parseInt($("#logo-spacer.animated").css("height"),10)},beginVal={hb:160,pt:180,mt:40,bm:380};$(window).scrollTop()<scrollspay_max&&($("#logo-spacer.animated").css("height",beginVal.bm),$(".logo_large.animated").css({paddingTop:beginVal.pt,marginTop:beginVal.mt,backgroundSize:beginVal.hb}));var calcola_percent=function(begin,end,perc){var diff=begin-end,percentuale=diff/100*perc;return percentuale};$(window).scrollspy({min:0,max:scrollspay_max,onEnter:function(element,position){},onLeave:function(element,position){console.log("leave"),$("div.logo_large.animated").css({"padding-top":endVal.pt,"background-size":endVal.hb,"margin-top":endVal.mt}),$("#logo-spacer.animated").css({height:endVal.bm})},onTick:function(element,position){var perc=100*position.top/scrollspay_max;perc=perc.toFixed(0);var bgdiff_abs=beginVal.hb-calcola_percent(beginVal.hb,endVal.hb,perc).toFixed(0),ptdiff_abs=beginVal.pt-calcola_percent(beginVal.pt,endVal.pt,perc).toFixed(0),mtdiff_abs=beginVal.mt-calcola_percent(beginVal.mt,endVal.mt,perc).toFixed(0),bmdiff_abs=beginVal.bm-calcola_percent(beginVal.bm,endVal.bm,perc).toFixed(0);TweenMax.to("div.logo_large.animated",.4,{"padding-top":ptdiff_abs,"background-size":bgdiff_abs,"margin-top":mtdiff_abs}),TweenMax.to("#logo-spacer.animated",.8,{height:bmdiff_abs})}})};return{init:_init,animazioneLogo:_animazione_logo}}(document,jQuery);!function(){app.init(),app.animazioneLogo()}();